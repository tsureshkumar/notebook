" install pathogen
"   https://github.com/tpope/vim-pathogen
" pathogen
execute pathogen#infect()
syntax on
filetype plugin indent on

set exrc
set secure

set tabstop=4
set softtabstop=4
set shiftwidth=4
set expandtab

set nocompatible
set autoindent
set smartindent
" wrap lines at 120 chars. 80 is somewaht antiquated with nowadays displays.
set textwidth=120
" turn syntax highlighting on
set t_Co=256
syntax on
"#set number
set showmatch
set comments=sl:/*,mb:\ *,elx:\ */


"set colorcolumn=120
highlight ColorColumn ctermbg=darkgray





augroup project
    autocmd!
    autocmd BufRead,BufNewFile *.h,*.c set filetype=c.doxygen
augroup END

let &path.="src/include,/usr/include/AL,"

"set makeprg=make\ -j9
set makeprg=make\ %:r\ CFLAGS="-g\ -O0"\ CPPFLAGS="-g\ -O0"


" keys
map <F4> :e %:p:s,.h$,.X123X,:s,.cpp$,.h,:s,.X123X$,.cpp,<CR>
nnoremap <F7> :make!<cr>
map <S-F7> :make clean all<CR>
"run progrgam
nnoremap <F5> :!./%:r<cr>

let g:ycm_global_ycm_extra_conf = "~/.vim/.ycm_extra_conf.py"
if &diff
      " diff settings
    map <M-Down> ]c
    map <M-Up> [c
    map <M-Left> do
    map <M-Right> dp
    map <F9> :new<CR>:read !svn diff<CR>:set syntax=diff buftype=nofile<CR>gg
else
    " spell settings
    :setlocal spell spelllang=en
    " set the spellfile - folders must exist
    set spellfile=~/.vim/spellfile.add
    map <M-Down> ]s
map <M-Up> [s
endif


" The Silver Searcher
if executable('ag')
  " Use ag over grep
  set grepprg=ag\ --nogroup\ --nocolor

  " Use ag in CtrlP for listing files. Lightning fast and respects .gitignore
  let g:ctrlp_user_command = 'ag %s -l --nocolor -g ""'

  " ag is fast enough that CtrlP doesn't need to cache
  let g:ctrlp_use_caching = 0
endif
" bind K to grep word under cursor
nnoremap K :grep! "\b<C-R><C-W>\b"<CR>:cw<CR>
